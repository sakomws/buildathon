# 🚀 Deployment Guide - Visual Memory Search

This guide will help you deploy the Visual Memory Search application to various online platforms.

## 📋 Prerequisites

- Python 3.9+ installed locally
- Git repository set up
- OpenAI API key (optional, for enhanced features)
- Account on your chosen deployment platform

## 🌐 Deployment Options

### 1. **Render (Recommended - Free Tier)**

Render offers a generous free tier and is very easy to use.

#### Steps:
1. **Sign up** at [render.com](https://render.com)
2. **Connect your GitHub repository**
3. **Create a new Web Service**
4. **Configure the service:**
   - **Name**: `visual-memory-search`
   - **Environment**: `Python`
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn app:app --bind 0.0.0.0:$PORT`
   - **Plan**: Free

#### Environment Variables:
- `SECRET_KEY`: Auto-generated by Render
- `OPENAI_API_KEY`: Your OpenAI API key (optional)

#### Benefits:
- ✅ Free tier available
- ✅ Automatic deployments from Git
- ✅ Built-in SSL certificates
- ✅ Easy environment variable management
- ✅ Good performance

---

### 2. **Heroku (Free Tier Discontinued)**

Heroku no longer offers a free tier, but it's still a solid option for paid plans.

#### Steps:
1. **Install Heroku CLI**
2. **Login to Heroku**
3. **Create app**: `heroku create your-app-name`
4. **Set environment variables**:
   ```bash
   heroku config:set SECRET_KEY=your-secret-key
   heroku config:set OPENAI_API_KEY=your-openai-key
   ```
5. **Deploy**: `git push heroku main`

#### Benefits:
- ✅ Very reliable
- ✅ Excellent documentation
- ✅ Good integration with Git
- ❌ No free tier

---

### 3. **Railway (Free Tier Available)**

Railway offers a modern deployment experience with a free tier.

#### Steps:
1. **Sign up** at [railway.app](https://railway.app)
2. **Connect your GitHub repository**
3. **Create a new service**
4. **Configure environment variables**
5. **Deploy automatically**

#### Benefits:
- ✅ Free tier available
- ✅ Modern interface
- ✅ Good performance
- ✅ Easy environment management

---

### 4. **PythonAnywhere (Free Tier Available)**

Great for Python applications with a free tier.

#### Steps:
1. **Sign up** at [pythonanywhere.com](https://pythonanywhere.com)
2. **Upload your code** or clone from Git
3. **Install requirements**: `pip install -r requirements.txt`
4. **Configure WSGI file**
5. **Set up environment variables**

#### Benefits:
- ✅ Free tier available
- ✅ Python-focused
- ✅ Good for learning
- ✅ Reliable

---

### 5. **Google Cloud Run (Free Tier Available)**

Serverless deployment with generous free tier.

#### Steps:
1. **Install Google Cloud CLI**
2. **Create a Dockerfile** (see below)
3. **Build and deploy**:
   ```bash
   gcloud run deploy visual-memory-search \
     --source . \
     --platform managed \
     --region us-central1 \
     --allow-unauthenticated
   ```

#### Benefits:
- ✅ Generous free tier
- ✅ Serverless (pay per use)
- ✅ Auto-scaling
- ✅ Global deployment

---

## 🐳 Docker Deployment

For container-based deployments, create a `Dockerfile`:

```dockerfile
FROM python:3.9-slim

WORKDIR /app

# Install system dependencies
RUN apt-get update && apt-get install -y \
    tesseract-ocr \
    libgl1-mesa-glx \
    libglib2.0-0 \
    && rm -rf /var/lib/apt/lists/*

# Copy requirements and install Python dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application code
COPY . .

# Create necessary directories
RUN mkdir -p uploads test_screenshots

# Expose port
EXPOSE 8000

# Run the application
CMD ["gunicorn", "app:app", "--bind", "0.0.0.0:8000", "--workers", "1"]
```

## 🔧 Environment Variables

Set these environment variables on your deployment platform:

```bash
# Required
SECRET_KEY=your-secret-key-here

# Optional (for enhanced features)
OPENAI_API_KEY=your-openai-api-key-here
```

## 📁 File Structure for Deployment

Ensure your deployment includes these essential files:

```
p1/
├── app.py                 # Main Flask application
├── main.py               # Core search engine
├── requirements.txt      # Python dependencies
├── render.yaml          # Render configuration
├── Procfile            # Heroku configuration
├── runtime.txt          # Python version
├── templates/           # HTML templates
│   ├── index.html      # Main interface
│   └── login.html      # Login page
├── static/             # Static assets (if any)
└── uploads/            # Upload directory (auto-created)
```

## 🚀 Quick Deploy to Render

1. **Fork or clone this repository**
2. **Sign up at [render.com](https://render.com)**
3. **Click "New +" → "Web Service"**
4. **Connect your GitHub repository**
5. **Configure the service using the settings above**
6. **Click "Create Web Service"**
7. **Wait for build and deployment**
8. **Your app will be live at `https://your-app-name.onrender.com`**

## 🔐 Default Login Credentials

After deployment, you can log in with:
- **Username**: `admin`
- **Password**: `password123`

**⚠️ Important**: Change these credentials in production!

## 📱 Testing Your Deployment

1. **Visit your deployed URL**
2. **Log in with the credentials above**
3. **Generate test data** using the "Generate Test Data" button
4. **Try searching** for "blue button" or other queries
5. **Upload images** to test the full functionality

## 🛠️ Troubleshooting

### Common Issues:

1. **Build Failures**:
   - Check Python version compatibility
   - Ensure all dependencies are in `requirements.txt`
   - Check for missing system dependencies

2. **Runtime Errors**:
   - Check environment variables are set correctly
   - Verify file permissions for uploads directory
   - Check logs for specific error messages

3. **Performance Issues**:
   - Free tiers have limitations
   - Consider upgrading for production use
   - Optimize image processing for better performance

### Getting Help:

- Check the application logs in your deployment platform
- Verify environment variables are set correctly
- Ensure all required files are included in deployment
- Test locally before deploying

## 🔒 Security Considerations

1. **Change default credentials** immediately after deployment
2. **Set a strong SECRET_KEY**
3. **Limit file upload sizes** if needed
4. **Consider adding rate limiting** for production use
5. **Use HTTPS** (most platforms provide this automatically)

## 📈 Scaling Considerations

For production use, consider:

- **Upgrading to paid plans** for better performance
- **Adding a database** for persistent storage
- **Implementing caching** for better search performance
- **Adding monitoring and logging**
- **Setting up automated backups**

---

## 🎉 You're Ready to Deploy!

Choose your preferred platform from the options above and follow the steps. The application is designed to work seamlessly across different deployment environments.

**Need help?** Check the troubleshooting section or create an issue in the repository.

Happy deploying! 🚀 